<!DOCTYPE html>
<html lang="en">
<head>
    {% load staticfiles %}
    {% load sass_tags %}
    <meta charset="UTF-8">
    <title>报告脑图</title>
    <link rel="stylesheet" href="{% static 'farm-package/mindmap/css/view.mindmap.css' %}">
</head>
<body>
<svg id="mindmap" class="mindmap mindmap-view" style="width: 100%; min-height: 100%; height: auto"></svg>
<script src="{% static 'farm-package/cdn.bootcss.com/jquery/2.2.4/jquery.min.js' %}"></script>
<script src="{% static 'farm-package/mindmap/js/d3.v3.min.js' %}" type="text/javascript"></script>
<script src="{% static 'farm-package/mindmap/js/d3-flextree.js' %}" type="text/javascript"></script>
<script src="{% static 'farm-package/mindmap/js/view.mindmap.js' %}" type="text/javascript"></script>
<script>
    var url = '{{json_url}}';
    d3.json(url, function (error, data) {
        if (error) throw error;

        markmap('svg#mindmap', data, {
            preset: 'colorful', // or default
            linkShape: 'diagonal', // or bracket
            onlyView: true,
            showCircle: false
        });
    });
</script>
</body>
</html>
